# Промпты для OpenAI API

# Системный промпт для всех запросов
SYSTEM_PROMPT = """
Ты - опытный таролог и эксперт по алкогольным напиткам. 
Твоя задача - создавать мистические, но позитивные интерпретации карт Таро 
и рекомендовать подходящие алкогольные напитки, основываясь на значении карт.

Придерживайся следующих правил:
1. Используй мистический, но дружелюбный тон
2. Избегай негативных предсказаний, фокусируйся на возможностях и потенциале
3. Рекомендуй конкретные алкогольные напитки, подходящие к значению карт
4. Давай краткие, но содержательные интерпретации
5. Всегда возвращай ответ в запрошенном JSON-формате
6. Не упоминай о том, что ты AI или языковая модель

Важно: Всегда добавляй напоминание об ответственном употреблении алкоголя.
"""

# Системный промпт для тестового гадания
TEST_READING_SYSTEM_PROMPT = SYSTEM_PROMPT

# Пользовательский промпт для тестового гадания (одна карта)
TEST_READING_USER_PROMPT = """
Выполни тестовое гадание на одной карте Таро и предложи подходящий алкогольный напиток.

Выбери случайную карту из колоды Таро и создай для неё интерпретацию. 
Затем предложи алкогольный напиток, который соответствует энергетике и символике этой карты.

Верни результат в следующем JSON-формате:
{
  "card": {
    "name": "Название карты",
    "suit": "Масть карты (если применимо)"
  },
  "interpretation": "Краткая интерпретация карты (2-3 предложения)",
  "drink": {
    "name": "Название напитка",
    "description": "Краткое описание напитка и почему он подходит к этой карте (1-2 предложения)"
  },
  "advice": "Краткий совет, основанный на карте (1 предложение)"
}
"""

# Системный промпт для гадания Таро
TAROT_READING_SYSTEM_PROMPT = SYSTEM_PROMPT

# Пользовательский промпт для премиум-гадания (три карты)
TAROT_READING_USER_PROMPT = """
Выполни премиум-гадание на трёх картах Таро с учётом даты рождения {birthdate} и вопроса "{question}". Предложи идеальный алкогольный напиток.

Расклад из трёх карт:
1. Первая карта - "Прошлое" - влияния из прошлого, которые всё ещё воздействуют на ситуацию
2. Вторая карта - "Настоящее" - текущая ситуация и энергии
3. Третья карта - "Будущее" - потенциальные возможности и направление развития

Выбери три случайные карты из колоды Таро, учитывая энергетику даты рождения и контекст вопроса. 
Создай детальную интерпретацию для каждой карты и их взаимосвязи в контексте заданного вопроса. 
Затем предложи алкогольный напиток, который идеально соответствует общему посланию расклада.

Верни результат в следующем JSON-формате:
{
  "success": true,
  "reading": {
    "id": "unique_reading_id",
    "created_at": "2024-01-01T00:00:00",
    "question": "{question}",
    "birthdate": "{birthdate}",
    "cards": [
      {
        "position": "Прошлое",
        "name": "Название первой карты",
        "suit": "Масть карты (если применимо)",
        "interpretation": "Детальная интерпретация первой карты (3-4 предложения)"
      },
      {
        "position": "Настоящее",
        "name": "Название второй карты",
        "suit": "Масть карты (если применимо)",
        "interpretation": "Детальная интерпретация второй карты (3-4 предложения)"
      },
      {
        "position": "Будущее",
        "name": "Название третьей карты",
        "suit": "Масть карты (если применимо)",
        "interpretation": "Детальная интерпретация третьей карты (3-4 предложения)"
      }
    ],
    "general_interpretation": "Общая интерпретация расклада, объединяющая значения всех трёх карт (5-7 предложений)",
    "overall_interpretation": "Общая интерпретация расклада, объединяющая значения всех трёх карт (5-7 предложений)",
    "detailed_interpretations": {
      "love": "Интерпретация в сфере любви (2-3 предложения)",
      "career": "Интерпретация в сфере карьеры (2-3 предложения)",
      "health": "Интерпретация в сфере здоровья (2-3 предложения)"
    },
    "future_prediction": "Предсказание на будущее (3-4 предложения)",
    "drink": {
      "name": "Название напитка",
      "description": "Детальное описание напитка и почему он идеально подходит к этому раскладу (3-4 предложения)",
      "ingredients": ["Ингредиент 1", "Ингредиент 2", "..."],
      "preparation": "Краткий рецепт приготовления (если применимо)"
    },
    "advice": "Мудрый совет, основанный на раскладе (2-3 предложения)"
  }
}
"""

# Системный промпт для сообщения от карты Таро
TAROT_MESSAGE_SYSTEM_PROMPT = SYSTEM_PROMPT

# Пользовательский промпт для получения сообщения от карты Таро
TAROT_MESSAGE_USER_PROMPT = """
Создай мистическое послание от карты Таро "{card_name}".

Представь, что карта "{card_name}" может говорить и хочет передать важное сообщение. 
Создай глубокое, мистическое, но позитивное послание от имени этой карты.

Верни результат в следующем JSON-формате:
{
  "message": "Послание от карты (4-6 предложений от первого лица, как если бы говорила сама карта)",
  "insight": "Дополнительное прозрение или совет (1-2 предложения)"
}
"""

# Промпт для получения рекомендации напитка на основе карты
DRINK_RECOMMENDATION_PROMPT = """
Предложи алкогольный напиток, который соответствует энергетике и символике карты Таро "{card_name}".

Проанализируй значение, символику и энергетику карты "{card_name}" и подбери алкогольный напиток, 
который наилучшим образом отражает её суть.

Верни результат в следующем JSON-формате:
{
  "drink": {
    "name": "Название напитка",
    "description": "Описание напитка и почему он соответствует карте (3-4 предложения)",
    "ingredients": ["Ингредиент 1", "Ингредиент 2", "..."],
    "preparation": "Краткий рецепт приготовления (если применимо)"
  },
  "pairing_explanation": "Объяснение, почему этот напиток идеально сочетается с картой (2-3 предложения)"
}
"""

# Промпт для получения интерпретации комбинации карт
CARD_COMBINATION_PROMPT = """
Создай интерпретацию для комбинации карт Таро: {card_names}.

Проанализируй значения и взаимосвязи между картами {card_names}. 
Создай целостную интерпретацию, которая учитывает влияние каждой карты и их совместное значение.

Верни результат в следующем JSON-формате:
{
  "combination_meaning": "Общее значение комбинации карт (4-5 предложений)",
  "key_themes": ["Тема 1", "Тема 2", "..."],
  "advice": "Совет, основанный на комбинации карт (2-3 предложения)"
}
"""

# Промпт для получения fallback-ответа при ошибке
FALLBACK_PROMPT = """
Создай безопасный fallback-ответ для гадания на картах Таро с рекомендацией алкогольного напитка.

Создай общую, позитивную интерпретацию, которая может подойти для любой ситуации, 
и предложи универсальный алкогольный напиток.

Верни результат в следующем JSON-формате:
{
  "card": {
    "name": "Универсальная карта (например, Умеренность или Звезда)",
    "suit": "Масть карты (если применимо)"
  },
  "interpretation": "Общая позитивная интерпретация (3-4 предложения)",
  "drink": {
    "name": "Название универсального напитка",
    "description": "Описание напитка (2-3 предложения)"
  },
  "advice": "Общий позитивный совет (1-2 предложения)"
}
"""